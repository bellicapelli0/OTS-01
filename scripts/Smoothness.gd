extends HSlider

@onready var synth : Synth = get_tree().get_root().get_node("Synth")

func _on_button_pressed():
	var smoothness = int(value)
	var kernel = [1]
	match smoothness:
		3:
			kernel = [0.3191677684538592, 0.36166446309228156, 0.3191677684538592]
		11:
			kernel = [0.008812229292562283, 0.027143577143479366, 0.06511405659938266, 0.12164907301380957, 0.17699835683135567, 0.2005654142388208, 0.17699835683135567, 0.12164907301380957, 0.06511405659938266, 0.027143577143479366, 0.008812229292562283]
		19:
			kernel = [7.991883346614541e-06, 6.691521999827501e-05, 0.00043634204600584767, 0.0022159277531582037, 0.008764164276189706, 0.026995526470205033, 0.06475890149700966, 0.1209855559295398, 0.17603294517029064, 0.19947145950851228, 0.17603294517029064, 0.1209855559295398, 0.06475890149700966, 0.026995526470205033, 0.008764164276189706, 0.0022159277531582037, 0.00043634204600584767, 6.691521999827501e-05, 7.991883346614541e-06]
		27:
			kernel = [1.3347783073939505e-10, 3.0379414249401485e-09, 5.3848800213221655e-08, 7.433597573741239e-07, 7.991870553527727e-06, 6.691511288307056e-05, 0.00043634134752697435, 0.002215924205989796, 0.008764150246866505, 0.026995483256847336, 0.06475879783355351, 0.12098536226070691, 0.1760326633838015, 0.19947114020258802, 0.1760326633838015, 0.12098536226070691, 0.06475879783355351, 0.026995483256847336, 0.008764150246866505, 0.002215924205989796, 0.00043634134752697435, 6.691511288307056e-05, 7.991870553527727e-06, 7.433597573741239e-07, 5.3848800213221655e-08, 3.0379414249401485e-09, 1.3347783073939505e-10]
			
	
	synth.start_animation(synth._1D_convolution(kernel))
